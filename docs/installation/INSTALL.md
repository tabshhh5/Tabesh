# Tabesh Plugin - Installation & Setup Guide

## نصب و راه‌اندازی افزونه تابش

### پیش‌نیازها

قبل از نصب، اطمینان حاصل کنید که موارد زیر را دارید:

- ✅ WordPress نسخه 6.8 یا بالاتر
- ✅ PHP نسخه 8.2.2 یا بالاتر  
- ✅ WooCommerce (آخرین نسخه)
- ✅ MySQL 5.7+ یا MariaDB 10.2+
- ✅ حداقل 64MB حافظه PHP
- ✅ سرور LiteSpeed (اختیاری اما توصیه می‌شود)

---

## مراحل نصب

### روش 1: آپلود از طریق پنل وردپرس

1. فایل ZIP افزونه را دانلود کنید
2. به پنل مدیریت وردپرس بروید
3. به **افزونه‌ها > افزودن** بروید
4. روی **آپلود افزونه** کلیک کنید
5. فایل `tabesh.zip` را انتخاب کنید
6. روی **نصب** کلیک کنید
7. پس از نصب، روی **فعال‌سازی** کلیک کنید

### روش 2: آپلود دستی از طریق FTP

1. فایل ZIP را استخراج کنید
2. پوشه `Tabesh` را به `wp-content/plugins/` آپلود کنید
3. به پنل مدیریت وردپرس بروید
4. به **افزونه‌ها** بروید و **تابش** را فعال کنید

---

## پیکربندی اولیه

### مرحله 1: تنظیمات عمومی

1. به **تابش > تنظیمات** بروید
2. در تب **تنظیمات عمومی**:
   - حداقل تیراژ: `10` (قابل تغییر)
   - حداکثر تیراژ: `10000` (قابل تغییر)
   - گام تیراژ: `10` (قابل تغییر)

### مرحله 2: پارامترهای محصول

در تب **پارامترهای محصول**، موارد زیر را تنظیم کنید:

#### قطع‌های کتاب
```
A5, A4, رقعی, وزیری, خشتی
```

#### انواع چاپ
```
سیاه و سفید, رنگی, ترکیبی
```

#### انواع صحافی
```
شومیز, جلد سخت, گالینگور, سیمی
```

#### انواع مجوز
```
دارم, انتشارات چاپکو, سفیر سلامت
```

#### گرماژ کاغذ جلد
```
250, 300
```

#### انواع سلفون
```
براق, مات, بدون سلفون
```

#### خدمات اضافی
```
لب گرد, خط تا, شیرینک, سوراخ, شماره گذاری
```

### مرحله 3: تنظیمات پیامک

برای فعال‌سازی اطلاع‌رسانی پیامکی:

1. به تب **پیامک** بروید
2. اطلاعات حساب ملی‌پیامک را وارد کنید:
   - نام کاربری
   - رمز عبور
   - شماره فرستنده
3. شماره موبایل مدیر را وارد کنید
4. گزینه‌های اطلاع‌رسانی را فعال کنید

---

## استفاده از شورت‌کدها

### 1. فرم ثبت سفارش

برای نمایش فرم سفارش در هر صفحه:

```
[tabesh_order_form]
```

**توصیه:** این شورت‌کد را در یک صفحه با عنوان "ثبت سفارش" قرار دهید.

### 2. سفارشات کاربر

برای نمایش سفارشات کاربر وارد شده:

```
[tabesh_user_orders]
```

**توصیه:** می‌توانید این را در صفحه حساب کاربری WooCommerce قرار دهید.

### 3. پنل کارمندان

برای نمایش پنل مدیریت کارمندان:

```
[tabesh_staff_panel]
```

**نکته:** فقط کاربران با دسترسی `edit_shop_orders` می‌توانند این پنل را ببینند.

### 4. داشبورد مدیریت

برای نمایش داشبورد مدیریت:

```
[tabesh_admin_dashboard]
```

**نکته:** فقط کاربران با دسترسی `manage_woocommerce` می‌توانند این پنل را ببینند.

---

## مدیریت سفارشات

### دسترسی به پنل مدیریت

پس از نصب، یک منوی جدید با نام **تابش** در پنل مدیریت ایجاد می‌شود:

- **داشبورد**: نمای کلی آمار سفارشات
- **سفارشات فعال**: لیست سفارشات در حال پردازش
- **سفارشات بایگانی**: سفارشات تکمیل شده
- **تنظیمات**: پیکربندی افزونه

### مدیریت وضعیت سفارشات

وضعیت‌های موجود:
- **در انتظار بررسی** (pending)
- **تایید شده** (confirmed)
- **در حال چاپ** (processing)
- **آماده تحویل** (ready)
- **تحویل داده شده** (completed)
- **لغو شده** (cancelled)

---

## بهینه‌سازی

### برای سرورهای LiteSpeed

افزونه به طور کامل با LiteSpeed سازگار است. برای بهترین عملکرد:

1. از LiteSpeed Cache Plugin استفاده کنید
2. صفحات دارای فرم سفارش را از کش خارج کنید
3. AJAX requests را از کش معاف کنید

### افزایش حافظه PHP

در صورت نیاز، حافظه PHP را افزایش دهید:

```php
define('WP_MEMORY_LIMIT', '256M');
```

---

## رفع مشکلات رایج

### مشکل: افزونه فعال نمی‌شود

**راه حل:**
- نسخه PHP را بررسی کنید (باید 8.2.2 یا بالاتر باشد)
- نسخه WordPress را بررسی کنید (باید 6.8 یا بالاتر باشد)
- اطمینان حاصل کنید WooCommerce نصب و فعال است

### مشکل: فرم نمایش داده نمی‌شود

**راه حل:**
- کش مرورگر را پاک کنید
- پوشه `assets` را بررسی کنید و مطمئن شوید فایل‌های CSS و JS وجود دارند
- Permalink را مجددا ذخیره کنید (تنظیمات > پیوندهای یکتا)

### مشکل: پیامک ارسال نمی‌شود

**راه حل:**
- اطلاعات حساب ملی‌پیامک را بررسی کنید
- اعتبار حساب را چک کنید
- شماره موبایل‌ها را با فرمت صحیح وارد کنید (09123456789)

### مشکل: قیمت‌گذاری درست نیست

**راه حل:**
- فایل `includes/class-tabesh-order.php` را بررسی کنید
- متد `calculate_price()` را برای نیازهای خود تنظیم کنید
- تنظیمات پارامترهای محصول را بررسی کنید

---

## پشتیبانی

برای دریافت پشتیبانی:

- **GitHub Issues**: [https://github.com/tabshhh12/Tabesh/issues](https://github.com/tabshhh12/Tabesh/issues)
- **وب‌سایت**: [https://chapco.ir](https://chapco.ir)

---

## به‌روزرسانی

برای به‌روزرسانی افزونه:

1. از فایل‌های فعلی نسخه پشتیبان تهیه کنید
2. افزونه را غیرفعال کنید
3. نسخه جدید را آپلود کنید
4. افزونه را مجددا فعال کنید

**نکته:** پایگاه داده به صورت خودکار به‌روزرسانی می‌شود.

---

## امنیت

توصیه‌های امنیتی:

- ✅ رمزهای عبور قوی استفاده کنید
- ✅ به طور منظم از پایگاه داده نسخه پشتیبان تهیه کنید
- ✅ دسترسی‌های کاربران را محدود کنید
- ✅ WordPress و افزونه‌ها را به‌روز نگه دارید
- ✅ از SSL برای سایت استفاده کنید

---

**تاریخ تهیه راهنما:** نوامبر 2024  
**نسخه افزونه:** 1.0.0
